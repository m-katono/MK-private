<!DOCTYPE html>
<html lang="ja" dir="ltr">
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width,initial-scale=1">
        <link rel="stylesheet" href="./css/master.css" type="text/css">
        <title>MK-private</title>
    </head>
        <body>
            <div class="top">
            <h1><a href="https://shangyuanyezhengju.wixsite.com/mkpage"><img src="./photo/icon.jpg" alt="" width="80px" height="80px"></a>MK-private</h1>
            <div class="menu"><h2>〜目的〜</h2>
		<p>
                　最終的にはpython3でcgiをいくつか書いて動かしてみたい。初心者なのでhtml、cssを学習しながら環境づくりをする。<br>
<<<<<<< HEAD
                　せっかくraspberrypi zeroを使っているので、webサーバーの使い方なんかも練習してみる。。</p>
                ＊問題のあるリンク等があればご連絡ください。すぐに削除します。<br>
                jj1kmf＠jarl.com（＠は半角）
                <div class="coding-env">
                <h3>環境</h3>
		<p>
		<h4>コーディング</h4>
                PC：MacBook Air Mid2013(Cor-i5-4250U,4GB)<br>
=======
                　せっかくraspberrypi zeroを使っているので、webサーバーも自前で立ち上げる。</p>
                <h3>〜環境〜</h3>
		<p>
		<h4>コーディング</h4>
                PC：MacBook Air Mid2013(Cor-i5 4250U,4GB)<br>
>>>>>>> 4a3e166c0019e3f7b8fb3b7d121450d967213512
                エディタ：ATOM (v1.43.0)<br>
                OS：Mac OS X Catalina(v10.15.2)</p>
                <p>
		<h4>サーバー</h4>
                OS：Raspbian buster Lite(Raspberry pi zero wh)<br>
                Webサーバー：Apache2(v2.4.38)
                </p>
<<<<<<< HEAD
            </div>
                <p>
		        <s>＊　DNSサーバーを利用していない上に動的グローバルIPアドレスなので、不定期でアドレスが変わる可能性あり。</s><br>
                やっぱり毎回グローバルIPアドレスだとめんどくさいので、DDNSサービス（MyDNS)を利用することにした。</p>
=======
                <p>
		<u>＊　DNSサーバーを利用していない上に動的グローバルIPアドレスなので、不定期でアドレスが変わる可能性あり。</u></p>
>>>>>>> 4a3e166c0019e3f7b8fb3b7d121450d967213512
            </div>

            <div class="menu" id="menu">
            <h2>目次</h2>
            <ol class="menu-class">
                <li><a href="#i1">エディタを選ぶ</a>
                <li><a href="#i2">Raspberry pi zero側の準備</a>
                <li>
            </div>

<<<<<<< HEAD
        <div class="menu">写真を貼ってみるテスト。スマホで表示した時のサイズ感とかを調整。<img src="./photo/beer.jpg" alt="Beer" width="600px" oncontextmenu="return false;">

	    <img src="./photo/xt250.jpg" alt="serrow" width="600px" oncontextmenu="return false;"></div>

            <div class="menu"  id="i1">
            <h3>エディタを選ぶ</h3>22/Jan/2020
        <p>
=======
            <div class="menu"><img src="./photo/beer.jpg" alt="Beer" width="600px" oncontextmenu="return false;"></div>

	    <div class="menu"><img src="./photo/xt250.jpg" alt="serrow" width="600px" oncontextmenu="return false;"></div>

            <div class="menu"  id="i1">
            <h3>エディタを選ぶ</h3><p>
>>>>>>> 4a3e166c0019e3f7b8fb3b7d121450d967213512
	    　エディタの選択肢はたくさんあり、どれにして良いのか全然わからなかった。ネット上にはたくさんの情報があってどれも良し悪しがあるみたいなので、重視したのは２点。</p>
	    <ul>
	    <li>（動作が）軽そうなもの</li>
	    <li>マルチプラットフォームなもの</li>
	    </ul>
            <p>
            　最近中古で買ったMacBookAirを使いたかったがRAMが4GBしかないので重いやつは避けたい。UbuntuとWindows10の環境ではVimかIntellijを使っているので、HTMLならVimでも良いが（IntellijはJava,Kotlin,Rustに使っている）、せっかくだから新しいのを試してみたくなった。</p>
            <p>
            　最低限の機能として言語ごとにシンタックスカラーリングしてくれてタブ機能があれば良いのだが、そんなの今時どれでも付いてる。候補としてはVSCode、Atom、やっぱりVimあたりが目に止まった。VSCodeはなんだか重そうなきがする。VimはCUIのイメージだし自分が使いやすい環境まで仕上げるのが大変そう。Atomはプラグインで簡単にカスタマイズできそうで、GitHubが公開しているエディタということでなんとなく印象が良い。そんな感じでAtomにしてみた。</p>
<<<<<<< HEAD
            <img src="./photo/atom.png" alt="Beer" width="600px" oncontextmenu="return false;">
            <p>
            　使ってみた感じとしては「かなり良い感じ」。とても無料とは思えない。いろいろな言語で使えるようだが、とりあえずHTML・CSSを学習しながらコツコツ書くには使いやすいと思う。プラグインは以下のものを入れている。</p>
	    <ul>
=======
            <p>
            　使ってみた感じとしては「かなり良い感じ」。とても無料とは思えない。いろいろな言語で使えるようだが、とりあえずHTML・CSSを学習しながらコツコツ書くには使いやすいと思う。プラグインは以下のものを入れている。</p>
	    <ul> 
>>>>>>> 4a3e166c0019e3f7b8fb3b7d121450d967213512
	    <li>japanese-menu（日本語化）</li>
	    <li>color-picker（カラーピッカー）</li>
	    <li>atom-html-preview（Webページをプレビュー）</li>
	    <li>vim-mode-plus（操作をVim風に）</li>
	    </ul>
            <p>
            日本語化した場合は「環境設定ーインストール」からプラグイン名で検索すると簡単にインストールできる。</p>
            <a href="https://atom.io/">Atomダウンロードサイト</a><br>
            <a href="#menu">目次へ戻る</a>
            </div>
<<<<<<< HEAD

            <div class="menu" id="i2">
            <h3>Raspberrypi zero whの準備</h3>24/Jan/2020
            <p>
            　Raspberrypi zero whはネットショッピングで購入した。GPIOピンが半田付け済みで16GBのマイクロSDカードがセットになったやつにした。（→<a href="https://www.amazon.co.jp/Raspberry-GPIO%E3%83%94%E3%83%B3%E3%83%98%E3%83%83%E3%83%80%E3%83%BC-%E3%83%8F%E3%83%B3%E3%83%80%E4%BB%98%E3%81%91%E6%B8%88%E3%81%BF-Wi-Fi-Bluetooth%E4%BD%9C%E5%8B%95%E7%A2%BA%E8%AA%8D%E6%B8%88%EF%BC%88%E3%83%92%E3%83%BC%E3%83%88%E3%82%B7%E3%83%B3%E3%82%AF%E3%80%81%EF%BC%B3%EF%BC%A4%E3%82%AB%E3%83%BC%E3%83%89%E4%BB%98%E3%81%8D/dp/B07PHPK8CP/ref=sr_1_1?__mk_ja_JP=%E3%82%AB%E3%82%BF%E3%82%AB%E3%83%8A&keywords=raspberry+pi+zero+wh&qid=1579869523&sr=8-1">こんなやつ</a>）    GUI環境だとマシンスペックが不足だしどうせターミナルばっかり使うのでCUIのみの「Lite」にした。付属のSDカードにはNOOBSというインストーラーが入っていたが、容量がもったいないので消した。不要な物は無い方が気分が良い。モニターとキーボードを繋がずにセットアップするには下準備がいくつか必要になるが今回は割愛する。なんとなくの流れは「OSイメージを<a href="https://www.raspberrypi.org/downloads/raspbian/">ダウンロード</a>→SDカードをフォーマット→ddコマンドでOSイメージを書き込む→.sshディレクトリを作る→Wi-Fiの接続設定を書き込む」までやってからラズパイにSDカードを差して起動し、SSHで他のPCから初期設定する。日本語フォントを入れたりもする。
            </p>
            <p>
            sudo apt install apache2<br>
            <br>
            　Webサーバーは定番のApache2をインストールした。/etc/apache2/apache2.confの中のディレクトリのアクセス制限をググった情報を元に書き足したりしたが、ほとんどそのままで大丈夫そうだった。cgiを使う時にはちょっと変更が必要そう。
            </p>
            <p>
            　忘れないようにこの段階でファイアーウォールの設定をしておく。ufwが簡単そうだったのでインストールした。<br>
            <br>
            sudo apt install ufw<br>
            sudo ufw allow '許可するポートの番号'<br>
            sudo ufw status<br>
            <br>
            みたいな感じ。ルーターの方のポート開放もしないとWAN側からアクセスできないので必ず設定しておく。自分の学習用のサイトなのでずっとIPアドレスでアクセスしていても良かったが、DNSというのも使ってみたくなってMyDNSを利用することにした。登録は思ったよりも簡単で、一通りの設定を終えたらすぐにドメイン名でアクセスできるようになった。ちょっと感動。<br>
            　動的なグローバルIPアドレスは不意にアドレスが変わってしまうことがあるので、いつでもアクセスできるようにするには別途対策が必要。あとでIPアドレスをMyDNSに通知するシェルスクリプトを作ってcronに登録しておこうと思う。
            </p>
            <a href="https://www.mydns.jp/">MyDNSのサイト</a><br>
            <a href="#menu">目次へ戻る</a>
            </div>
=======
>>>>>>> 4a3e166c0019e3f7b8fb3b7d121450d967213512
        </div>
    </body>
</html>
