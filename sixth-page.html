<!DOCTYPE html>
<html lang="ja" dir="ltr">
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <link rel="stylesheet" href="./css/master.css" type="text/css">
        <title>MK-private</title>
    </head>
    <body>
<!--  浮いてるメニュー  -->
<div class="top_menu">
        <a href="#top" class="pagenum">top</a>-<a href="./index.html#menu" class="pagenum">menu</a>
</div>

        <div class="top" id="top">

		<p><iframe width="400" height="30" frameborder="0"></iframe></p>

            <h1><a href="https://shangyuanyezhengju.wixsite.com/mkpage" target="_blank" rel="noopener"><img src="./photo/icon.jpg" alt="" width="40px" height="40px"></a><a href="https://m-katono.mydns.jp">MK-private</a></h1>
            <div class="menu"><h2>Page 6</h2>
            Page-<a href="./index.html#menu" class="pagenum">menu</a>-<a href="./index.html" class="pagenum">1</a>-<a href="./second-page.html" class=pagenum>2</a>-<a href="./third-page.html" class="pagenum">3</a>-<a href="./fourth-page.html" class="pagenum">4</a>-<a href="./fifth-page.html" class="pagenum">5</a>-6-
            <p>
                　MarkDownからhtmlへ変換すると余計なタグがたくさん混じって見づらいのでやめた。
            </p>
            </div>
            <div class="menu" id="i26">
                <h3>外付けHDD（1TB）を買った</h3>20/Mar/2020
                <p>
                    　先日までRaspberry pi 3B+に取り付けていたUSBバスパワーのHDDが使えなくなったため64GBのUSBメモリで代用していたが耐久性に不安がある気がしていた。そこでヤ◯オクで外部電源のHDDを買うことにした。中古だと安い金額でたくさんの商品が出品されているので迷ってしまうが、今後の耐用年数を考慮して使用時間が少ないものを選んだ。
                    <ul>
                        <a href="https://www.elecom.co.jp/products/ELD-CED010UWH.html" target="_blank" oncontextmenu="noopener"><h4>ELECOM ELD-CED010UWH</h4></a>
                        <li>買ったのはホワイト。在庫限りらしい。</li>
                        <li>定価は税込み¥12,980-</li>
                        <li>購入価格は¥3,000-</li>
                        <li>使用時間は299時間</li>
                        <li>USB3.0、1TB。</li>
                    </ul>
                    最近は2TB以上のモデルが主流で、1TB以下のものはかなりお買い得になっているらしい。
                </p>
                <p>
                    　そんなに古い商品ではないので接続すればすぐに使えると思っていたが、予想外に苦労したので備忘録として記録しておく。
                </p>
                    <ol>
                        <li>はじめにDELLのInspiron 3162(Ubuntu18.04)に繋いでみた。
                            <ul>
                                <li>自動認識はしない。</li>
                                <li><code class="coding-env">fdisk -l</code>や<code class="coding-env">df</code>コマンドでは出てこないみたい。</li>
                                <li><code class="coding-env">lsusb</code>にはELECOMなんとかって出てくる。</li>
                            </ul>
                        </li>
                        <li>テレビ（東芝REGZA）に繋いでみた。
                            <ul>
                                <li>「初期化しますか？」的なメニューが表示されるので認識しているみたい。</li>
                            </ul>
                        </li>
                        <li>NEC VersaPro(Windows10)に繋いでみた。
                            <ul>
                                <li>ドライブ一覧には表示されていない。</li>
                                <li>デバイスドライバでは「USB大容量記憶装置」として認識されている。</li>
                                <li>「ディスクの管理」で見るとやっと見えた。３つのパーティションに分かれているみたい。</li>
                            </ul>
                        </li>
                    </ol>
                <p>
                    　「ディスクの管理」でパーティションが見えたので、そのまま全部消して新しくNTFSのパーティションを作成したところ、ドライブ一覧にも表示された。どうやらテレビ用のファイルシステムはパソコンでうまく認識できないらしい。今度はUbuntu PCで改めてパーティションを作り直そうとしたが、別の問題が発生した。USB3.0ポートに繋いだところマウントしたりアンマウントしたりを何度も繰り返して、最終的にはHDDの電源が落ちた。どうやら相性の問題らしくUSB2.0ポートに繋いだら正常に認識したので、やっとext4でパーティションを作成しなおしてRaspberry pi 3B+で動作させることができた。
                </p>
                <p>
                    　今回は自分の知識不足で余計な時間をかけてしまったが、ディスク管理関係のコマンドを何回も使ったので勉強になった。特に、今までは<code class="coding-env">fdisk</code>しか使っていなかったが<code class="coding-env">parted</code>コマンドを使ってみたらとても使いやすかった。
                </p>
            </div>

            <div class="menu" id="i27">
                <h3>ArchLinux をインストール</h3>19/Dec/2020
                <p>（＊ここではインストール方法は説明しないが、参考にしたサイトを紹介したり感想をかいたりする。）
                </p>

                <h4>なぜArchLinuxか</h4>
                <p>　MacOSを使ってみたくてしばらくはMacBookAir(2011 Mid)を使用していたが、思ったほど快適ではなかったので売ってしまった。Windowsよりは自由度が高いような気がするし、オシャレなので嫌いではなかった。でも普段からUbuntuを使っているとLinuxのほうが分かりやすいし、動作が軽い気がして好きだ。主にDellの安いラップトップにUbuntuを入れて使っていたが、低スペック(Celeron N3060, DDR3L-4GB)なのであまり重い作業はできないし、購入から１年でストレージ(32GB-eMMC)の90%が埋まってしまって限界が近くなっていた。
                </p>
                <p>　最近はPuppyLinuxやRaspberryPiOSなんかをよく使うのでOSのインストールには慣れていたし、いっそうのことリフレッシュしようと思ってLinuxMint(MATE)を入れてみた。Ubuntuよりも軽快だし、良い意味で「普通」に動く。が、Ubuntuを使っていたときと同等の環境を作るとストレージの半分以上が埋まってしまった。
                </p>
                <p>　動作に関してはPuppyが最軽量だと思うが、ちょっと特殊なので使用用途を選ぶ感じがする。Puppyに匹敵するくらい快適に動作するディストリビューションはないものかと思ってネットを徘徊していると、ArchLinuxというのに行き着いた。なんでも、中・上級者向けだとか、インストーラーが無いだとか、自分好みの環境を作れるとかでとても魅力的に感じた。自分のスキルでは不足していると思ったが、解説してくれているサイトがいくつかあるし、公式ドキュメントが充実しているのでなんとかなるんじゃないかと思ってインストールすることにした。
                </p>

                <h4>インストール</h4>
                　インストールするにあたって、主に２つのサイトを参考にさせていただいた。まずは最小限の構成でインストールしてから後でデスクトップ環境を整えるという順番で、できるだけ新しい記事を参考に進め、他にもいろいろなサイトを見ながら、自分に必要なところだけ組み合わせてインストールした。
                <ul>
                    <li><a href="https://qiita.com/TsutomuNakamura/items/b60518f8788e5e998744" target="_blank" oncontextmenu="noopener">https://qiita.com/TsutomuNakamura/items/b60518f8788e5e998744</a>(Arch Linux インストール俺々式完全版)</li>
                    <li><a href="https://qiita.com/j8takagi/items/235e4ae484e8c587ca92" target="_blank" oncontextmenu="noopener">https://qiita.com/j8takagi/items/235e4ae484e8c587ca92</a>(Arch Linuxの最小限インストール)</li>
                </ul>
まずは他のディストリビューションと同じで<a href="https://www.archlinux.jp/download/" target="_blank" oncontextmenu="noopener">公式サイト</a>からイメージをダウンロードしてUSBメモリに書き込んで起動する。インストーラーが無いので順番にコマンドを打って実行していくが、焦らずに進めればそれほど難しくはなっかた。インストーラーがやっていることを手動で進めていくだけなので「何をするコマンドなのか」を考えながら進めれば迷うことはないが、インストールする環境によって少しずつ違うと思うので必ずエラーが出ると思う。エラーのコメントやログをじっくり読んで解決すればどうにかインストールできる感じ。大抵は「~~~ is not found」とかなので不足のパッケージを<code class="coding-env">pacman -S</code>でインストールすれば解決できることが多い。私の環境ではUSBメモリから起動してネットにつなぐのは問題なかったが、インストールコマンドを実行して<code class="coding-env">arch-chroot /mnt</code>した後に、新しい環境からインターネットに繋ごうとするとダメだった。dhcpcd が見つからないのが原因だったが、USBメモリの方には入っていたのにインストール後のArchLinuxにはdhcpcdが無いようで、すぐに気づくことができずにちょっとハマった。ちなみに、なるべく小さくまとめたかったのでデスクトップはXfce4にした。
                <h4>（今のところ）良かったこと</h4>
                <ol>
                    <li>とても勉強になった。普段GUIばかり使っていると諸々のプログラムがほとんど自動で動くので、Xwindowシステム、ネットワーク、bluetoothなどをCLIから手動で起動してみるとなんとなく仕組みがわかった気になる。</li>
                    <li>動作が軽い。OSの起動は電源ボタンを押してから15秒位でログイン画面まで進む。eMMCはHDDとそれはど速度が変わらないことを考えると、とても速い。</li>
                    <li>小さい。インストールイメージは600MBちょっと。CLI状態で2.5GBくらいだった気がする。デスクトップ環境、openJDK12、rust、IntelliJ IDEA、LibleOffice、Chromium、Thunderbird、その他のパッケージをインストールしても8.6GB。</li>
                    <li>ローリング・リリース。OSのバージョンなんか気にしなくていい。パッケージマネージャのPacmanも結構使いやすい。</li>
                </ol>
                <h4>気になるところ</h4>
                インストールしてすぐは、本当に最低限の環境だけ。ほしい機能があれば自分でパッケージをインストールしなければならない。Linuxのターミナルに慣れていれば全く苦にならないが、WindowsからいきなりArchLinuxに移行するのは不可能に近い。他のメジャーなディストロを経験してからチャレンジするべきと思われる。
        <br>
        <br>
        <img src="./photo/screen.png" alt="df -h" width="600px" oncontextmenu="return false;"><br>
        <img src="./photo/desktop.png" alt="desktop" width="600px" oncontextmenu="return false;"><br>
        <br>
        </div>
<!--ここまでがTOP-->
        </div>
    </body>
</html>
